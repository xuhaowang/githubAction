{"version":3,"sources":["containers/Home/actions.js","containers/Home/index.js"],"names":["fetchPostInfo","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","postInfo","wrap","_context","prev","next","getPostInfo","sent","type","at","data","stop","_x","apply","this","arguments","resetPostList","fetchPostList","perPage","page","_ref2","_callee2","postList","_context2","fetchList","_x2","Home","_Component","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","inherits","createClass","key","value","homeActions","_loadPage","pageNum","_this2","_this$props$home$toJS","home","toJS","_this$props$home$toJS2","postCount","tagInfo","loadMore","navList","linkTo","tag","concat","toConsumableArray","loadMoreBtn","react_default","createElement","es_button","size","className","onClick","SideBar","siteConfig","Header","activeTag","Grid","fluid","Row","PostList","goHome","Component","connect","bindActionCreators","HomeActions"],"mappings":"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","file":"static/js/3.0e9fc8c4.chunk.js","sourcesContent":["import * as at from './actionTypes';\nimport { getPostInfo, fetchList } from 'posts';\n\nexport const fetchPostInfo = () => async dispatch => {\n  const postInfo = await getPostInfo();\n  dispatch({\n    type: at.GET_POST_INFO,\n    data: postInfo,\n  });\n};\n\nexport const resetPostList = () => ({\n  type: at.RESET_POST_LIST,\n});\n\nexport const fetchPostList = (perPage, page) => async dispatch => {\n  const postList = await fetchList(perPage, page);\n  dispatch({\n    type: at.FETCH_POST_LIST,\n    data: postList,\n  });\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport SideBar from 'components/SideBar';\nimport PostList from 'components/PostList';\nimport Header from 'components/Header';\nimport * as HomeActions from './actions';\nimport { Button } from 'antd';\nimport siteConfig from 'siteConfig';\nimport './style.css';\n\nimport { Grid, Row } from \"react-bootstrap\";\n\nconst mapStateToProps = ({ home }) => ({ home });\n\nconst mapDispatchToProps = dispatch => ({\n  homeActions: bindActionCreators(HomeActions, dispatch),\n});\n\nexport class Home extends Component {\n  static propTypes = {\n    home: PropTypes.object.isRequired,\n    homeActions: PropTypes.object.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.perPage = 20;\n  }\n\n  componentDidMount() {\n    this.props.homeActions.fetchPostInfo();\n    this.props.homeActions.resetPostList();\n    this._loadPage(1);\n  }\n\n  _loadPage(pageNum) {\n    this.props.homeActions.fetchPostList(this.perPage, pageNum);\n    this.pageNum = pageNum;\n  }\n\n  render() {\n    const {\n      postInfo: { postCount, tagInfo },\n      postList,\n      loadMore,\n    } = this.props.home.toJS();\n\n    const navList = [\n      {\n        linkTo: '/dashboard',\n        tag: `Dashboard`\n      },\n      {\n        linkTo: '/',\n        tag: `All Build History（${postCount}）`,\n      },\n      ...tagInfo,\n    ];\n\n    const loadMoreBtn = loadMore\n      ? <Button\n          size=\"large\"\n          className=\"load-more\"\n          onClick={() => this._loadPage(this.pageNum + 1)}>\n          Load More\n        </Button>\n      : false;\n\n    return (\n      <div className=\"page-container\">\n        <SideBar data={siteConfig} />\n        <div className=\"post-list\">\n          <Header data={navList} activeTag={`All Build History（${postCount}）`} />\n          <div className=\"content\">\n            <Grid fluid>\n              <Row>\n              <PostList goHome data={postList} />\n              </Row>\n            </Grid>\n          </div>\n          {loadMoreBtn}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n"],"sourceRoot":""}